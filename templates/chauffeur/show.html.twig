{% extends 'base.html.twig' %}

{% block title %}Chauffeur{% endblock %}

{% block body %}
 
    <h1>Bonjour, {{ chauffeur.name }}</h1>

<h2>Vos informations :</h2>
<ul>
    <li>Email : {{ chauffeur.email }}</li>
    <li>Téléphone : {{ chauffeur.phone }}</li>
    <li>Permis : {{ chauffeur.permi }}</li>
    <li>CIN : {{ chauffeur.cin }}</li>
</ul>




<h2>Mes Trajets</h2>

<table class="table table-striped">
    <thead>
        <tr>
            <th>Départ</th>
            <th>Destination</th>
            <th>Date & Heure</th>
            <th>Prix</th>
            <th>Places disponibles</th>
            <th>Status</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for trajet in trajets %}
            <tr>
                <td>{{ trajet.depart }}</td>
                <td>{{ trajet.destination }}</td>
                <td>{{ trajet.dHDepart ? trajet.dHDepart|date('d/m/Y H:i') : '' }}</td>
                <td>{{ trajet.prix }} DT</td>
                <td>{{ trajet.placeDispo }}</td>
                <td>{{ trajet.status ?: 'En attente' }}</td>
                <td>
                    <a href="{{ path('app_trajet_show', {'id': trajet.id}) }}" class="btn btn-sm btn-primary">Voir</a>
                    <a href="{{ path('app_trajet_edit', {'id': trajet.id}) }}" class="btn btn-sm btn-warning">Modifier</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="7">Aucun trajet trouvé pour le moment.</td>
            </tr>
        {% endfor %}
    </tbody>
</table>


    <a href="/chauffeur">logout</a>

    <a href="{{ path('app_chauffeur_edit', {'id': chauffeur.id}) }}">edit</a>
       <a href="/trajet/new">ajouter trajet </a>
    <a href="/voiture/new">ajouter voiture  </a>

  <h2>Mes Voitures</h2>

{% if voitures|length > 0 %}
    <table class="table">
        <thead>
            <tr>
                <th>Model</th>
                <th>Immatriculation</th>
                <th>Couleur</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for voiture in voitures %}
                <tr>
                    <td>{{ voiture.model }}</td>
                    <td>{{ voiture.immatriculation }}</td>
                    <td>{{ voiture.color }}</td>
                    <td>
                        <a href="{{ path('app_voiture_show', {'id': voiture.id}) }}">Voir</a>
                        <a href="{{ path('app_voiture_edit', {'id': voiture.id}) }}">Modifier</a>
                        <a href="{{ path('app_voiture_delete', {'id': voiture.id}) }}">Supprimer</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p>Vous n'avez aucune voiture ajoutée.</p>
{% endif %}

{% endblock %}
